## Flutter

- 프로젝트 폴더링
    - data (데이터 관리 및 비지니스 로직모델들)
        - model
        - repository
        - dto 등등
    - presentation || ui (UI 모아두는곳)
        - detail
        - main
            - components
- 하나의 화면을 그리는 파일의 이름은 00_screen 으로 통일하기
- 탭 화면 만들기
    - 메인화면을 하나 둔다
    - 탭을 눌릴때마다 보여질 탭페이지들을 만든다.
    - 메인화면에, List<Widget> 으로 탭화면들을 담아둠
    - 메인화면의 body 영역에, 선택되는 탭에따라 보여줄 화면을 뿌려준다.
    - 변수를 만들고, 탭을 변경할때마다 변수를 변경하면 된다.

        ```dart
        final 변수 = 0;

        Widget build(BuildContext context) {
            return Scaffold(
                body:
                bottomNavigationBar: BottomNavigationBar(
                    onTap: (index) {
                        setState() {
                            변수 = index
                        }
                    },
                    items: [
                        BottomNavigationBarItem(
                            icon: Icon(Icons.home),
                            label: '홈'
                        ),
                            BottomNavigationBarItem(
                            icon: Icon(Icons.home),
                            label: '홈'
                        ),
                            BottomNavigationBarItem(
                            icon: Icon(Icons.home),
                            label: '홈'
                        ),
                    ]
                )
            );
        }
        ```

- UI를 만들다가 버그가 나면 회색 텍스트로 에러메세지가 뜸
- 기본적으로 Row나 Column 의 자식요소들은 크기가 정해져있어야 됨.
    - 근데 자식으로 Container가 들어가면 에러가남 기본적으로 컨테이너는, 자식요소의 크기에 따라 사이즈가 결정된다.
    - 근데 Container도 크기가 없고, 자식도 크기가없는데 Row나 Column에 들어가면 조진다.
- double.infinity
    - 사이즈를 화면에 꽉 채우게 만들어주는 값.
    - width나 height에 저 값을 넣어주면 된다.
- UI를 그릴 때, List를 통해 map

    ```dart
    Row(
        children: list.map((e) => Widget(e)).toList();
    )
    ```

### Widgets

- **AppBar**
    - 속성
        - elevation : 앱바의 그림자 효과를 줌
- **Scaffold**
    - 속성
        - appBar : AppBar()
        - body:
        - bottomNavigationBar : BottomnavigationBar()
- **BottomNavigationBar**
    - 속성
        - items: []
        - currentIndex : 현재 선택된 것, 디폴트는 1이다.
        - onTap: (index) {}
            - 탭을 누를때마다, 눌려진 index값이 들어오게 된다. 그래서 index를 받아서 변수를 처리해주면 된다.
- **BottomNavigationBarItem**
    - 속성
        - icon:
        - label: 라벨의 이름은 nullable일 수 없다.
- **Container**
    - Container에서 배경에 컬러를 주려고 할 때, 만약에 decoration 속성으로 뭔가 꾸민다면, 그 안에서 color 를줘야함. Container 에있는 color를 주면 에러발생함. 둘중에 하나만 써야된다.
- **PageView**
    - Swiper를 만드는것
    - 대신에 크기가 지정되어있어야 해서 SizedBox로 감싸주어야 한다.
- **SizedBox**
    - 크기를 지정해주는 음 컨테이너 같은 친구.
    - Container와 다른점은, SizedBox는 기본적으로 const라서 뭐.. 컴파일타임에 크기가 정해지는것이라 성능상에 더 이점이 있지…
- **GridView**
    - 그냥 쓰는게 아니라 여러 형태들이 있음
    - 만약에 GridVIew의 크기를 넘어가게 되면, 자동으로 스크롤이 되게끔 되어있음.
    - GirdView.count
    - GirdView.builder
    - GirdView.custom
    - GirdView.extent
    - 속성
        - primary
        - padding
        - crossAxisSpacing: int,
        - mainAxisSpacing: int
        - crossAxisCount: int,
        - children
        - shrinkWrap: bool
            - 스크롤 기능이 사라지고, 내부의 아이템들의 크기를 자동으로 알게된다?
            - 이건 그리드뷰 말고 scroll 기능이 있는 모든 위젯에서 사용이 가능함.
        
        - physics
            - NeverScrollableScrollPhysics() : 스크롤이 안되게
- Icon
    - 속성
        - size: 아이콘의 크기

## 기타

- 금일 퀴즈
    - 좀 이해가 안가는 부분
    
    ```dart
    Human person = Human(name: '전성수', age: 99);
    Human person2 = person;
    
    person2.age = 20;
    
    person.age //99
    ```
    
    - 참조타입이고.. 참조타입을 값으로 쓰면 원본도 바뀌는게 맞을텐데 퀴즈에서 바뀌지않는다고 한 것.
    - 바뀌는데..??? 내가 문제를 잘못봤나??
    
- Color 타입은, 직렬화와 역직렬화가 되지 않음. 그래서 모델을 만들 때 Color 타입을 받아야 하면 이걸 일반화를 시켜줘야 한다.


## 오늘의 로우다이브
### SliverAppBar

[SliverAppBar class - material library - Dart API](https://api.flutter.dev/flutter/material/SliverAppBar-class.html)

- CustomScrollView와 함께 사용되어지는 AppBar 이다.
    - 보통 CustomscrollView의 첫번째 자식으로 사용되어진다.
    - CustomScrollView와 쓰이기 때문에, 화면상 Scaffold의 appBar 속성에 들어가는게 아니라 body 영역에 자리한다.
- 스크롤에 따라서 자동으로 사라지고 나오게하는 기능이 있음
- 속성
    - title : Widget
        - 앱바의 타이틀을 받음
        - titleSpacing : double
            - 타이틀 주변의 수평으로 간격. 만약에 타이틀이 앱바 전체영역을 차지하게 하고싶으면 0.0을 주면 된다.
        - titleTextStyle : **TextStyle()**
    - toolbarHeight : double
    - toolbarTextStyle : **TextStyle()**
        - title을 제외한 leading 과 actions의 스타일을 지정한다.
    - leading : Widget
        - title의 왼쪽에 놓을 위젯
        - leadingWidth: double
            - leading의 크기
    - centerTitle: bool
    - actions: []
        - 우측에 IconButton 들을 자식으로 받음
    - floating : bool
        - 유저가 스크롤을 올릴때, 앱바가 들어나게 할것인지 아닌지를 결정
    - pinned : bool
        - 스크롤을 하더라도 앱바를 고정할것인지 여부
    - collapsedHeight: double
        - 어느 높이에서 접힐지를 결정
    - expandedHeight: double
        - 완전히 펼쳐졌을때의 높이
    - flexibleSpace : **FlexibleSpaceBar()**
        - appBar의 바로 하단에 따라붙는 영역
    - bottom:
- SliverAppBar를 쓸 때 이 위젯 자체가 body 영역에 들어가는 거라서, 들어갈 컨텐츠 내용도 결국 slivers 영역 안에 들어가줘야 한다.
    - 이때 컨텐츠가 들어가는 영역은 **SliverList()** 위젯이다.

    ```dart
    Widget build(BuildContext context) {
        return Scaffold(
            body: CustomScrollView(
                slivers: <Wdiget> [
                    SliverAppBar(
                        title: Widget,
                        actions:[],
                        flexibleSpace: Widget,
                    ),//SliverAppBar
                    SliverList(
                        delegate: SliverChildBuilderDelegate(
                            (context, index) => Widget(),
                            childCount: double,
                        )
                    )
                ]
            )
        );
    }
    ```

### SliverList

[SliverList class - widgets library - Dart API](https://api.flutter.dev/flutter/widgets/SliverList-class.html)

- slivers에 들어가는 위젯중 하나.
- 리스트 형태로 나온다.
- 이건 리스트가 아주 길 때, 스크롤해서 위로 사라질 경우 자동으로 위의 자식은 사라지고 다시 스크롤을 위로 올리면 나타난다.  iOS의 reuseableCell 이랑 비슷하게 동작하는것 같다.
- SliverList는  SliverChildeDelegate를 통해서 자식들을 생성한다.
    - 플러터에도 델리게이트가 있는줄 몰랐네
    - Sliver는 화면에 보여지는 요소들만 생성하기 때문에, 자식요소의 생성이 느리다. 그래서 직접적으로 자식요소들을 List 형태로 받는게 아니라 Delegate를 통해서 생성을 하게 된다.
    - 왜 이런 방식을 취하는가?
        - 전화번호부에 전화번호가 1만개가 저장되어있다면? 그걸 전화번호부 앱을 열 때마다 다 그려줘야 한다면? → 개낭비다. 그때그때 스크롤 위치에 따라 그 위치에 있는 목록만 그려서 보여주면 된다.
    - Delegate는 두종류가 있음
        - SliverChildListDelegate
        - SliverChildBuilderDelegate
- 공식문서에 자식축의 방향이 메인축과 일치하다면 SliverFixedExtentList를 쓰는게 더 좋다고 하는데 이게 무슨말인지 이해가 안간다.